<div>
    <form>
        <br />
        <div id="accordion" class="panel-group smart-accordion-default">
            <div class="panel panel-default" style="padding: 0px !important;padding-left:0px !important;">
                <div class="panel-heading">
                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne-1"
                            aria-expanded="false" class="collapsed"> <i
                                class="fa fa-fw fa-plus-circle txt-color-green"></i>
                            <i class="fa fa-fw fa-minus-circle txt-color-red"></i> <span class="tr-language"
                                data-tr="_111"></span> </a>
                    </h4>
                </div>
                <div id="collapseOne-1" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                    <div class="panel-body">

                        <div>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-2 control-label tr-language" data-tr="local"></label>
                                    <div class="col-md-2" id="d_local">
                                        <select class="form-control" id="lst_local" name="lst_local" />
                                    </div>

                                    <div class="col-md-2 pull-right" id="btn_ip">
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="d_printer" class="table-responsive">
                            <div class="area_print">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="5" class="text-center"><span id="sp_title"></span></th>
                                        </tr>
                                        <tr>
                                            <th class="text-center tr-language" data-tr="categoria"
                                                style="width: 80px;"></th>
                                            <th class="text-center tr-language" data-tr="producto"
                                                style="width: 150px;"></th>
                                            <th class="text-center tr-language" data-tr="precio_venta"
                                                style="width: 80px;"></th>
                                            <th class="text-center tr-language" data-tr="_112" style="width: 80px;">
                                            </th>
                                            <th class="text-center tr-language" data-tr="_095" style="width: 100px;">
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody id="tb_productos">
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
            <div class="panel panel-default" style="padding: 0px !important;padding-left:0px !important;">
                <div class="panel-heading">
                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne-2"
                            aria-expanded="false" class="collapsed"> <i
                                class="fa fa-fw fa-plus-circle txt-color-green"></i>
                            <i class="fa fa-fw fa-minus-circle txt-color-red"></i> <span class="tr-language"
                                data-tr="_261"></span> </a>
                    </h4>
                </div>
                <div id="collapseOne-2" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                    <div class="panel-body">

                        <div>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-1 control-label tr-language" data-tr="local"></label>
                                    <div class="col-md-2" id="d_local2">
                                        <select class="form-control" id="lst_local2" name="lst_local2" />
                                    </div>

                                    <label class="col-md-1 control-label tr-language" data-tr="_013">Cantidad</label>
                                    <div class="col-md-2">
                                        <select class="form-control chosen" id="lst_numero2" name="lst_numero2">
                                            <option value="0" class="tr-language" data-tr="seleccionar">Seleccionar
                                            </option>
                                            <option value="5">5</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                            <option value="200">200</option>
                                            <option value="9999999">Todos</option>
                                        </select>
                                    </div>
                                    <label class="col-md-1 control-label tr-language" data-tr="_083"></label>
                                    <div class="col-md-2">
                                        <input class="form-control" type="text" id="txt_desde2" name="txt_desde2" />
                                    </div>
                                    <label class="col-md-1 control-label tr-language" data-tr="_084"></label>
                                    <div class="col-md-2">
                                        <input class="form-control" type="text" id="txt_hasta2" name="txt_hasta2" />
                                    </div>
                                    <div class="col-md-6">
                                        <span id="btn_bus_02"></span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="d_printer" class="table-responsive">
                            <div class="area_print">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="3" class="text-center"><span id="sp_title"></span></th>
                                        </tr>
                                        <tr>
                                            <th class="text-center tr-language" data-tr="_262" style="width: 80px;">
                                            </th>
                                            <th class="text-center tr-language" data-tr="_273" style="width: 150px;">
                                            </th>
                                            <th class="text-center tr-language" data-tr="_274" style="width: 80px;">
                                            </th>

                                        </tr>
                                    </thead>
                                    <tbody style="text-align:center" id="tb_productos2">
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

            <div class="panel panel-default" style="padding: 0px !important;padding-left:0px !important;">
                <div class="panel-heading">
                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne-3"
                            aria-expanded="false" class="collapsed"> <i
                                class="fa fa-fw fa-plus-circle txt-color-green"></i>
                            <i class="fa fa-fw fa-minus-circle txt-color-red"></i> <span class="tr-language"
                                data-tr="_285"></span> </a>
                    </h4>
                </div>

                <div id="collapseOne-3" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                    <div class="panel-body">
                        <div>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-1 control-label tr-language" data-tr="local"></label>
                                    <div class="col-md-2" id="d_local3">
                                        <select class="form-control" id="lst_local3" name="lst_local3" />
                                    </div>
    
                                    <label class="col-md-1 control-label tr-language" data-tr="_013">Cantidad</label>
                                    <div class="col-md-2">
                                        <select class="form-control chosen" id="lst_numero3" name="lst_numero3">
                                            <option value="0" class="tr-language" data-tr="seleccionar">Seleccionar
                                            </option>
                                            <option value="5">5</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                            <option value="200">200</option>
                                            <option value="9999999">Todos</option>
                                        </select>
                                    </div>
    
                                    <div class="col-md-6">
                                        <span id="btn_bus_03"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <div id="d_printer" class="table-responsive">
                            <div class="area_print">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="4" class="text-center"><span id="sp_title"></span></th>
                                        </tr>
                                        <tr>
                                            <th class="text-center tr-language" data-tr="codigo"></th>
                                            <th class="text-center tr-language" data-tr="producto"></th>
                                            <th class="text-center tr-language" data-tr="precio_venta"></th>
                                            <th class="text-center tr-language" data-tr="_056"></th>
    
                                        </tr>
                                        <tr>
                                            <th ><input class="text-center form-control" type="text" id="codigo_PS0"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="producto_PS0"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="precio_venta_PS0"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="stock_actual_PS0"></input></th>
                                            <th colspan="6"></th>
                                        </tr>
                                    </thead>
                                    <tbody style="text-align:center" id="tb_productos3">
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <option value="9999999">Todos</option>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
    
    
                    </div>
                </div>
            </div>

            <div class="panel panel-default" style="padding: 0px !important;padding-left:0px !important;">
                <div class="panel-heading">
                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne-4"
                            aria-expanded="false" class="collapsed"> <i
                                class="fa fa-fw fa-plus-circle txt-color-green"></i>
                            <i class="fa fa-fw fa-minus-circle txt-color-red"></i> <span class="tr-language"
                                data-tr="_286"></span></a>
                    </h4>
                </div>

                <div id="collapseOne-4" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                    <div class="panel-body">
                        <div>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-1 control-label tr-language" data-tr="local"></label>
                                    <div class="col-md-2" id="d_local4">
                                        <select class="form-control" id="lst_local4" name="lst_local4" />
                                    </div>
    
                                    <label class="col-md-1 control-label tr-language" data-tr="_013">Cantidad</label>
                                    <div class="col-md-2">
                                        <select class="form-control chosen" id="lst_numero4" name="lst_numero4">
                                            <option value="0" class="tr-language" data-tr="seleccionar">Seleccionar
                                            </option>
                                            <option value="5">5</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                            <option value="200">200</option>
                                            <option value="9999999">Todos</option>
                                        </select>
                                    </div>
    
                                    <div class="col-md-6">
                                        <span id="btn_bus_04"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
    
                        <div id="d_printer" class="table-responsive">
                            <div class="area_print">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="4" class="text-center"><span id="sp_title"></span></th>
                                        </tr>
                                        <tr>
                                            <th class="text-center tr-language" data-tr="codigo"></th>
                                            <th class="text-center tr-language" data-tr="producto"></th>
                                            <th class="text-center tr-language" data-tr="precio_venta"></th>
                                            <th class="text-center tr-language" data-tr="_056"></th>
    
                                        </tr>
                                        <tr>
                                            <th ><input class="text-center form-control" type="text" id="codigo_PS5"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="producto_PS5"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="precio_venta_PS5"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="stock_actual_PS5"></input></th>
                                            <th colspan="6"></th>
                                        </tr>
                                    </thead>
                                    <tbody style="text-align:center" id="tb_productos4">
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
    
    
                    </div>
                </div>
            </div>


            <!-- REPORTE DE PRODUCTO QUE DESEO EL CLENTE AAAAAAAAAAAAAAAAAAAAAAAAAH -->

            <div class="panel panel-default" style="padding: 0px !important;padding-left:0px !important;">
                <div class="panel-heading">
                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne-5"
                            aria-expanded="false" class="collapsed"> <i
                                class="fa fa-fw fa-plus-circle txt-color-green"></i>
                            <i class="fa fa-fw fa-minus-circle txt-color-red"></i> <span class="tr-language"
                                data-tr="_293"></span> </a>
                    </h4>
                </div>

                <div id="collapseOne-5" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                    <div class="panel-body">
                        <div>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-1 control-label tr-language" data-tr="local"></label>
                                    <div class="col-md-2" id="d_local5">
                                        <select class="form-control" id="lst_local5" name="lst_local5"/>
                                    </div>
    
                                    <label class="col-md-1 control-label tr-language" data-tr="_013">Cantidad</label>
                                    <div class="col-md-2">
                                        <select class="form-control chosen" id="lst_numero5" name="lst_numero5">
                                            <option value="0" class="tr-language" data-tr="seleccionar">Seleccionar
                                            </option>
                                            <option value="5">5</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                            <option value="200">200</option>
                                            <option value="9999999">Todos</option>
                                        </select>
                                    </div>
    
                                    <div class="col-md-2">
                                        <span id="btn_bus_05"></span>
                                    </div>

                                    <div class="col-md-2 pull-right" id="btn_ip5">
                                    </div>

                                </div>
                            </div>
                        </div>
    
                        <div id="d_printer5" class="table-responsive">
                            <div class="area_print">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="14" class="text-center"><span id="sp_title"></span></th>
                                        </tr>
                                        <tr>
                                            <th class="text-center tr-language" data-tr="codigo"></th>
                                            <th class="text-center tr-language" data-tr="producto"></th>
                                            <th class="text-center tr-language" data-tr="_116"></th>
                                            <th class="text-center tr-language" data-tr="categoria"></th>
                                            <th class="text-center tr-language" data-tr="_080"></th>
                                            <th class="text-center tr-language" data-tr="ubicacion"></th>
                                            <th class="text-center tr-language" data-tr="caja"></th>
                                            <th class="text-center tr-language" data-tr="_056"></th>
                                            <th class="text-center tr-language" data-tr="p_publico"></th>
                                            <th class="text-center tr-language" data-tr="p_ferreteria"></th>
                                            <th class="text-center tr-language" data-tr="p_distribuidor"></th>
                                            <th class="text-center tr-language" data-tr="_058"></th>
                                            <th class="text-center tr-language" data-tr="ultima_compra"></th>
                                            <th class="text-center tr-language" data-tr="activo"></th>
                                                  
                                        </tr>
                                        <tr>
                                            <th ><input class="text-center form-control" type="text" id="codigo_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="producto_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="marca_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="categoria_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="proveedor_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="ubicacion_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="caja_RGP"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="stock_actual_RGP"></input></th>
                                            <th colspan="6"></th>
                                        </tr>
                                    </thead>
                                    <tbody style="text-align:center" id="tb_productos5">
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
    
    
                    </div>
                </div>
            </div>
            
            <!-- FINAL REPORTE DE PRODUCTO QUE DESEO EL CLENTE AAAAAAAAAAAAAAAAAAAAAAAAAH -->


            <!-- REPORTE DE UTITLIDADES -->

            <div class="panel panel-default" style="padding: 0px !important;padding-left:0px !important;">
                <div class="panel-heading">
                    <h4 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#collapseOne-7"
                            aria-expanded="false" class="collapsed"> <i
                                class="fa fa-fw fa-plus-circle txt-color-green"></i>
                            <i class="fa fa-fw fa-minus-circle txt-color-red"></i> <span class="tr-language"
                                data-tr="_294"></span> </a>
                    </h4>
                </div>

                <div id="collapseOne-7" class="panel-collapse collapse" aria-expanded="false" style="height: 0px;">
                    <div class="panel-body">
                        <div>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-md-1 control-label tr-language" data-tr="local"></label>
                                    <div class="col-md-2" id="d_local7">
                                        <select class="form-control" id="lst_local7" name="lst_local7"/>
                                    </div>
    
                                    <label class="col-md-1 control-label tr-language" data-tr="_013">Cantidad</label>
                                    <div class="col-md-2">
                                        <select class="form-control chosen" id="lst_numero7" name="lst_numero7">
                                            <option value="0" class="tr-language" data-tr="seleccionar">Seleccionar
                                            </option>
                                            <option value="5">5</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                            <option value="200">200</option>
                                            <option value="9999999">Todos</option>
                                        </select>
                                    </div>
    
                                    <div class="col-md-2">
                                        <span id="btn_bus_07"></span>
                                    </div>

                                    <div class="col-md-2 pull-right" id="btn_ip7">
                                    </div>

                                </div>
                            </div>
                        </div>
    
                        <div id="d_printer7" class="table-responsive">
                            <div class="area_print">
                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th colspan="10" class="text-center"><span id="sp_title"></span></th>
                                        </tr>
                                        <tr>
                                            <th class="text-center tr-language" data-tr="_073"></th>
                                            <th class="text-center tr-language" data-tr="producto"></th>
                                            <th class="text-center tr-language" data-tr="_116"></th>
                                            <th class="text-center tr-language" data-tr="categoria"></th>
                                            <th class="text-center tr-language" data-tr="_056"></th>
                                            <th class="text-center tr-language" data-tr="_013"></th>
                                            <th class="text-center tr-language" data-tr="_058"></th>
                                            <th class="text-center tr-language" data-tr="_015"></th>
                                            <th class="text-center tr-language" data-tr="_017"></th>
                                            <th class="text-center tr-language" data-tr="_107"></th>
                                        </tr>
                                        <tr>
                                            <th ></th>
                                            <th ><input class="text-center form-control" type="text" id="producto"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="marca"></input></th>
                                            <th ><input class="text-center form-control" type="text" id="categoria"></input></th>
                                            <th colspan="6"></th>
                                        </tr>
                                    </thead>
                                    <tbody style="text-align:center" id="tb_productos7">
                                        <tr>
                                            <td>&nbsp;</td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                            <td></td>
                                        </tr>
                                    </tbody>
                                    <tfoot style="text-align:center;font-weight: bold;">
                                        <tr>
                                            <td colspan="4">Total</td>
                                            <td id="total_stock"></td>
                                            <td id="total_cantidad"></td>
                                            <td id="total_p_compra"></td>
                                            <td id="total_p_venta"></td>
                                            <td id="total_total"></td>
                                            <td id="total_utilidad"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
    
    
                    </div>
                </div>
            </div>
            
            <!-- REPORTE DE UTILIDADES -->
        </div>
    </form>
    <script>

        const codigo_PS0 = $(`#codigo_PS0`), producto_SP0 = $(`#producto_PS0`), precio_venta_PS0 = $(`#precio_venta_PS0`), stock_actual_PS0 = $(`#stock_actual_PS0`)

        function buscar_PS0(boxInput) {
            
            boxInput.keyup(() => {
                
                var myVar = boxInput.val()
                let registro = JSON.parse(localStorage.getItem('searchStock0'))
                let data = registro.filter(registro => registro.catalogo.includes(myVar.toUpperCase()));
                let table = $(`#RPTPR__tb_productos3`);
                let rows = "";
                
                data.forEach(function (pro, i) {
                    rows += "<tr><td>"+pro.codigo_interno+"</td><td>"+pro.catalogo+"</td><td>"+pro.precio_publico+"</td><td>"+pro.stock_actual+"</td></tr>";
                });
                
                table.html(rows);
            })
               
        }
        
        buscar_PS0(codigo_PS0)
        buscar_PS0(producto_SP0)
        buscar_PS0(precio_venta_PS0)
        buscar_PS0(stock_actual_PS0)

        const codigo_PS5 = $(`#codigo_PS5`), producto_SP5 = $(`#producto_PS5`), precio_venta_PS5 = $(`#precio_venta_PS5`), stock_actual_PS5 = $(`#stock_actual_PS5`)

        function buscar_PS5(boxInput) {
            
            boxInput.keyup(() => {
                
                var myVar = boxInput.val()
                let registro = JSON.parse(localStorage.getItem('searchStock6'))
                let data = registro.filter(registro => registro.catalogo.includes(myVar.toUpperCase()));
                let table = $(`#RPTPR__tb_productos4`);
                let rows = "";
                
                data.forEach(function (pro, i) {
                    rows += "<tr><td>"+pro.codigo_interno+"</td><td>"+pro.catalogo+"</td><td>"+pro.precio_publico+"</td><td>"+pro.stock_actual+"</td></tr>";
                });
                
                table.html(rows);
            })
               
        }

        buscar_PS5(codigo_PS5)
        buscar_PS5(producto_SP5)
        buscar_PS5(precio_venta_PS5)
        buscar_PS5(stock_actual_PS5)

        const   codigo_RGP = $(`#codigo_RGP`),
                producto_RGP = $(`#producto_RGP`), 
                marca_RGP = $(`#marca_RGP`), 
                categoria_RGP = $(`#categoria_RGP`), 
                proveedor_RGP = $(`#proveedor_RGP`), 
                ubicacion_RGP = $(`#ubicacion_RGP`), 
                caja_RGP = $(`#caja_RGP`),
                stock_actual_RGP = $(`#stock_actual_RGP`)

        function buscar_RGP(boxInput, rgp) {
            var rgp = rgp
            boxInput.keyup(() => {
                
                var myVar = boxInput.val()
                let registro = JSON.parse(localStorage.getItem('reporte_general_productos'))
                var data
                switch(rgp){
                        case 'catalogo':
                            data = registro.filter(registro => registro.catalogo.includes(myVar.toUpperCase()))
                        break;
                        case 'marca': 
                            data = registro.filter(registro => registro.marca.includes(myVar.toUpperCase()))
                        break;
                        case 'codigo': 
                            data = registro.filter(registro => registro.codigo.includes(myVar.toUpperCase()))
                        break;
                        case 'proveedor': 
                            data = registro.filter(registro => registro.proveedor.includes(myVar.toUpperCase()))
                        break;
                        case 'ubicacion': 
                            data = registro.filter(registro => registro.ubicacion.includes(myVar.toUpperCase()))
                        break;
                        case 'nx_caja': 
                            data = registro.filter(registro => registro.nx_caja.includes(myVar.toUpperCase()))
                        break;
                        case 'stock': 
                            data = registro.filter(registro => registro.stock.includes(myVar.toUpperCase()))
                        break;
                        case 'categoria': 
                            data = registro.filter(registro => registro.categoria.includes(myVar.toUpperCase()))
                        break;
                }
                let table = $(`#RPTPR__tb_productos5`);
                let rows = "";
                
                data.forEach(function (pro, i) {
                    rows += "<tr><td>"+pro.codigo+"</td>" + 
                                "<td>" + pro.catalogo + "</td>" +
                                "<td>" + pro.marca + "</td>" +
                                "<td>" + pro.categoria + "</td>" + 
                                "<td>" + pro.proveedor + "</td>" + 
                                "<td>" + pro.ubicacion + "</td>" + 
                                "<td>" + pro.nx_caja + "</td>" + 
                                "<td>" + pro.stock + "</td>" + 
                                "<td>" + pro.p_pub + "</td>" + 
                                "<td>" + pro.p_fer + "</td>" + 
                                "<td>" + pro.p_dis + "</td>" + 
                                "<td>" + pro.p_com + "</td>" + 
                                "<td>Han pasado " + pro.dias_pasados + " Dias</td>"
                    if ( pro.estado == 1 ) {
                        rows += "<td>Activo</td></tr>"
                    } else {
                        rows += "<td>Inactivo</td></tr>"
                    }
                                
                  });
    
                 table.html(rows);
            })
               
        }

        buscar_RGP(codigo_RGP, 'codigo')
        buscar_RGP(producto_RGP, 'catalogo')
        buscar_RGP(marca_RGP, 'marca')
        buscar_RGP(categoria_RGP, 'categoria')
        buscar_RGP(proveedor_RGP, 'proveedor')
        buscar_RGP(ubicacion_RGP, 'ubicacion')
        buscar_RGP(caja_RGP, 'nx_caja')
        buscar_RGP(stock_actual_RGP, 'stock')


        const productoRPU = $(`#producto`), marcaRPU = $(`#marca`), categoriaRPU = $(`#categoria`)

        function buscar_RPU(boxInput, pinga) {
            
            var variable = pinga
            boxInput.keyup(() => {
                
                var myVar = boxInput.val()
                let registro = JSON.parse(localStorage.getItem('reporte_utilidad_productos'))
                var data
                switch(variable){
                        case 'catalogo':
                            data = registro.filter(registro => registro.catalogo.includes(myVar.toUpperCase()))
                        break;
                        case 'marca': 
                            data = registro.filter(registro => registro.marca.includes(myVar.toUpperCase()))
                        break;
                        case 'categoria': 
                            data = registro.filter(registro => registro.categoria.includes(myVar.toUpperCase()))
                        break;
                }
                
                let table = $(`#RPTPR__tb_productos7`);
                let rows = "";
                
                data.forEach(function (pro, i) {
                    rows += "<tr><td>"+pro.fecha+"</td>" + 
                                "<td>" + pro.catalogo + "</td>" +
                                "<td>" + pro.marca + "</td>" +
                                "<td>" + pro.categoria + "</td>" + 
                                "<td>" + pro.stock + "</td>" + 
                                "<td>" + pro.cantidad + "</td>" +
                                "<td>" + pro.pc_unitario + "</td>" +
                                "<td>" + pro.pv_unitario + "</td>" +
                                "<td>" + pro.total + "</td>" + 
                                "<td>" + pro.utilidad + "</td>"
                  });
    
                    let sumatoria = 0;
    
                    data.forEach(function (pro, i) {
                        sumatoria += (parseFloat(pro.stock))
                    });
                    $(`#total_stock`).html(sumatoria)
                    
                    sumatoria = 0;
                    data.forEach(function (pro, i) {
                        sumatoria += (parseFloat(pro.cantidad))
                    });
                    $(`#total_cantidad`).html(sumatoria)
    
                    sumatoria = 0;
                    data.forEach(function (pro, i) {
                        sumatoria += (parseFloat(pro.pc_unitario))
                    });
                    $(`#total_p_compra`).html(sumatoria)
    
                    sumatoria = 0;
                    data.forEach(function (pro, i) {
                        sumatoria += (parseFloat(pro.pv_unitario))
                    });
                    $(`#total_p_venta`).html(sumatoria)
    
                    sumatoria = 0;
                    data.forEach(function (pro, i) {
                        sumatoria += (parseFloat(pro.total))
                    });
                    $(`#total_total`).html(sumatoria)
    
                    sumatoria = 0;
                    data.forEach(function (pro, i) {
                        sumatoria += (parseFloat(pro.utilidad))
                    });
                    $(`#total_utilidad`).html(sumatoria)
    
                    table.html(rows);
            })
               
        }
        
        buscar_RPU(productoRPU, 'catalogo')
        buscar_RPU(marcaRPU, 'marca')
        buscar_RPU(categoriaRPU, 'categoria')

    </script>
</div>
